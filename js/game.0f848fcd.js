!function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[r]={exports:{}};t[r][0].call(h.exports,function(e){var n=t[r][1][e];return i(n?n:e)},h,h.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(e){var n=e.game,a=e.x,r=e.y,s=e.asset,l=e.callback,u=e.callbackContext,h=e.overFrame,c=e.outFrame,p=e.downFrame,f=e.upFrame,d=e.label,y=e.style;o(this,t);var m=i(this,Object.getPrototypeOf(t).call(this,n,a,r,s,l,u,h,c,p,f));return m.anchor.setTo(.5),m.label=d,m.style=y,m.text=new Phaser.Text(m.game,0,0,m.label,m.style),m.text.anchor.setTo(.5),m.addChild(m.text),m}return a(t,e),t}(Phaser.Button);n["default"]=r},{}],2:[function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var i=e("./states"),a=o(i),r=new Phaser.Game(800,1e3,Phaser.AUTO);Object.keys(a).forEach(function(e){return r.state.add(e,a[e])}),r.state.start("Boot")},{"./states":8}],3:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(e){var n=e.game,a=e.x,r=e.y,s=e.asset,l=e.health,u=e.tint,h=void 0===u?16711680:u;o(this,t);var c=i(this,Object.getPrototypeOf(t).call(this,n,a,r,s));return c.anchor.setTo(.5),c.scale.setTo(.8),c.health=l,c.tint=h,c.checkWorldBounds=!0,c.outOfBoundsKill=!0,c}return a(t,e),t}(Phaser.Sprite);n["default"]=r},{}],4:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function p(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:p(i,t,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)};Object.defineProperty(n,"__esModule",{value:!0});var u=e("./bullet"),h=o(u),c=function(e){function t(e){var n=e.game,o=e.x,r=e.y,s=e.asset,l=e.frame,u=e.health,h=e.bulletSpeed;i(this,t);var c=a(this,Object.getPrototypeOf(t).call(this,n,o,r,s,l));return c.game=n,c.anchor.setTo(.5),c.scale.setTo(.8),c.health=u,c.maxHealth=u,c.game.physics.arcade.enable(c),c.animations.add("spinning",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],30,!0),c.play("spinning"),c.bullets=c.game.add.group(),c.bullets.enableBody=!0,c.bulletSpeed=h,c.shotSound=c.game.add.sound("enemyShot"),c}return r(t,e),s(t,[{key:"update",value:function(){this.position.x<.04*this.game.world.width?(this.position.x=.04*this.game.world.width+2,this.body.velocity.x*=-1):this.position.x>.96*this.game.world.width&&(this.position.x=.96*this.game.world.width-2,this.body.velocity.x*=-1),this.position.y-this.height/2>this.game.world.height&&this.kill()}},{key:"shoot",value:function(){this.shotSound.play("",0,.5);var e=this.bullets.getFirstExists(!1);e?e.reset(this.x,this.bottom,2):(e=new h["default"]({game:this.game,x:this.x,y:this.bottom,health:2,asset:"bullet",tint:16711680}),this.bullets.add(e)),e.body.velocity.y=this.bulletSpeed}},{key:"damage",value:function(e){l(Object.getPrototypeOf(t.prototype),"damage",this).call(this,e)}},{key:"reset",value:function(e){var n=e.x,o=e.y,i=e.health,a=e.bulletSpeed,r=e.speed;l(Object.getPrototypeOf(t.prototype),"reset",this).call(this,n,o,i),this.bulletSpeed=a,this.body.velocity.x=r.x,this.body.velocity.y=r.y}}]),t}(Phaser.Sprite);n["default"]=c},{"./bullet":3}],5:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(e){function t(e){var n=e.game,a=e.player;o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,n));return r.game=n,r.player=a,r.bg=new Phaser.Image(r.game,0,0,"hudBg"),r.width=800,r.healthbar=new Phaser.Sprite(r.game,2,2,"healthbar"),r.healthbar.scale.setTo(.995,11),r.score=0,r.scoreLabel="Score: ",r.scoreText=new Phaser.Text(r.game,20,14,r.scoreLabel+r.score,{font:"13px Verdana",fill:"white",align:"center"}),r.add(r.bg),r.add(r.healthbar),r.add(r.scoreText),r}return a(t,e),r(t,[{key:"updateHealth",value:function(){this.healthbar.crop(new Phaser.Rectangle(0,0,this.player.health/this.player.maxHealth*this.width,10)),this.healthbar.updateCrop()}},{key:"updateScore",value:function(e){this.score+=e,this.scoreText.text=this.scoreLabel+10*this.score}}]),t}(Phaser.Group);n["default"]=s},{}],6:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function p(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:p(i,t,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)};Object.defineProperty(n,"__esModule",{value:!0});var u=e("./bullet"),h=o(u),c=function(e){function t(e){var n=e.game,o=e.x,r=e.y,s=e.asset,l=e.frame,u=e.health;i(this,t);var h=a(this,Object.getPrototypeOf(t).call(this,n,o,r,s,l));return h.game=n,h.anchor.setTo(.5),h.scale.setTo(.8),h.health=u,h.maxHealth=u,h.game.physics.arcade.enable(h),h.lastPos={x:o,y:r},h.diff={x:0,y:0},h.bullets=h.game.add.group(),h.bullets.enableBody=!0,h.bulletSpeed=-500,h.shotSound=h.game.add.sound("playerShot"),h.game.input.onDown.add(function(){if(h.alive){var e=h.game.input.activePointer.position,t=e.x,n=e.y;h.diff.x=t-h.position.x,h.diff.y=n-h.position.y}}),h.game.input.onUp.add(function(){h.alive&&(h.frame=1)}),h}return r(t,e),s(t,[{key:"update",value:function(){if(this.game.input.activePointer.isDown){var e=this.game.input.activePointer.position,t=e.x,n=e.y,o=t<this.lastPos.x,i=t>this.lastPos.x,a=Math.abs(t-this.lastPos.x);this.position.x=t-this.diff.x,this.position.y=n-this.diff.y,this.position.x<.02*this.game.world.width&&(this.position.x=.02*this.game.world.width),this.position.x>.98*this.game.world.width&&(this.position.x=.98*this.game.world.width),this.position.y<.09*this.game.world.height&&(this.position.y=.09*this.game.world.height),this.position.y>.94*this.game.world.height&&(this.position.y=.94*this.game.world.height),a>3?o?this.frame=0:i&&(this.frame=2):this.game.time.elapsedMS>=16&&(this.frame=1),this.lastPos.x=t,this.lastPos.y=n}}},{key:"shoot",value:function(){this.shotSound.play("",0,.5);var e=this.bullets.getFirstExists(!1);e?e.reset(this.x,this.top,3):(e=new h["default"]({game:this.game,x:this.x,y:this.top,health:3,asset:"bullet",tint:311570}),this.bullets.add(e)),e.body.velocity.y=this.bulletSpeed}},{key:"damage",value:function(e){l(Object.getPrototypeOf(t.prototype),"damage",this).call(this,e)}}]),t}(Phaser.Sprite);n["default"]=c},{"./bullet":3}],7:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),r(t,[{key:"preload",value:function(){this.game.stage.backgroundColor="#000",this.load.image("loaderBg","img/loader-bg.310894d4.png"),this.load.image("loaderBar","img/loader-bar.a441202a.png")}},{key:"create",value:function(){this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.game.physics.startSystem(Phaser.Physics.ARCADE),this.state.start("Preload")}}]),t}(Phaser.State);n["default"]=s},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./boot");Object.defineProperty(n,"Boot",{enumerable:!0,get:function(){return o["default"]}});var i=e("./preload");Object.defineProperty(n,"Preload",{enumerable:!0,get:function(){return i["default"]}});var a=e("./menu");Object.defineProperty(n,"Menu",{enumerable:!0,get:function(){return a["default"]}});var r=e("./play");Object.defineProperty(n,"Play",{enumerable:!0,get:function(){return r["default"]}});var s=e("./over");Object.defineProperty(n,"Over",{enumerable:!0,get:function(){return s["default"]}})},{"./boot":7,"./menu":9,"./over":10,"./play":11,"./preload":12}],9:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(n,"__esModule",{value:!0});var l=e("../extensions/textbutton"),u=o(l),h=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),s(t,[{key:"create",value:function(){var e=this;this.music=this.game.add.audio("menuMusic"),this.title=new Phaser.Text(this.game,this.game.world.centerX,this.game.world.centerY-200,"Shoot'Em Up",{font:"36px Tahoma",fill:"white",align:"center"}),this.title.anchor.setTo(.5),this.start=new u["default"]({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY,asset:"button",overFrame:2,outFrame:1,downFrame:0,upFrame:1,label:"Start",style:{font:"16px Verdana",fill:"white",align:"center"}}),this.btnOverSound=this.add.sound("menuOver"),this.btnOutSound=this.add.sound("menuOut"),this.btnDownSound=this.add.sound("menuDown"),this.start.setOverSound(this.btnOverSound),this.start.setOutSound(this.btnOutSound),this.start.setDownSound(this.btnDownSound),this.start.onInputUp.add(function(){e.music.stop(),e.state.start("Play")}),this.menuPanel=this.add.group(),this.menuPanel.add(this.title),this.menuPanel.add(this.start),this.music.loopFull()}}]),t}(Phaser.State);n["default"]=h},{"../extensions/textbutton":1}],10:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(n,"__esModule",{value:!0});var l=e("../extensions/textbutton"),u=o(l),h=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),s(t,[{key:"create",value:function(){var e=this;this.gameOverTitle=new Phaser.Text(this.game,this.game.world.centerX,this.game.world.centerY-200,"Game over",{font:"36px Tahoma",fill:"white",align:"center"}),this.gameOverTitle.anchor.setTo(.5),this.start=new u["default"]({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY-30,asset:"button",overFrame:2,outFrame:1,downFrame:0,upFrame:1,label:"Try again",style:{font:"16px Verdana",fill:"white",align:"center"}}),this.menu=new u["default"]({game:this.game,x:this.game.world.centerX,y:this.game.world.centerY+30,asset:"button",overFrame:2,outFrame:1,downFrame:0,upFrame:1,label:"Menu",style:{font:"16px Verdana",fill:"white",align:"center"}}),this.btnOverSound=this.add.sound("menuOver"),this.btnOutSound=this.add.sound("menuOut"),this.btnDownSound=this.add.sound("menuDown"),this.start.setOverSound(this.btnOverSound),this.start.setOutSound(this.btnOutSound),this.start.setDownSound(this.btnDownSound),this.menu.setOverSound(this.btnOverSound),this.menu.setOutSound(this.btnOutSound),this.menu.setDownSound(this.btnDownSound),this.start.onInputDown.add(function(){e.state.start("Play")}),this.menu.onInputDown.add(function(){e.state.start("Menu")}),this.gameOverPanel=this.add.group(),this.gameOverPanel.add(this.gameOverTitle),this.gameOverPanel.add(this.start),this.gameOverPanel.add(this.menu)}}]),t}(Phaser.State);n["default"]=h},{"../extensions/textbutton":1}],11:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(n,"__esModule",{value:!0});var l=e("../prefabs/player"),u=o(l),h=e("../prefabs/enemy"),c=o(h),p=e("../prefabs/hud"),f=o(p),d=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),s(t,[{key:"create",value:function(){var e=this;this.farback=this.add.tileSprite(0,0,800,2380,"farback"),this.game.time.slowMotion=1,this.enemies=this.add.group(),this.enemies.enableBody=!0,this.player=new u["default"]({game:this.game,x:this.game.world.centerX,y:.92*this.game.world.height,health:100,asset:"smallfighter",frame:1}),this.game.stage.addChild(this.player),this.hud=new f["default"]({game:this.game,player:this.player}),this.game.input.onDown.add(function(){e.game.time.slowMotion=1}),this.game.input.onUp.add(function(){e.game.time.slowMotion=3}),this.enemyTime=0,this.enemyInterval=1.5,this.enemyShootTime=0,this.enemyShootInterval=1,this.playerShootTime=0,this.playerShootInterval=.16,this.game.time.events.loop(10*Phaser.Timer.SECOND,function(){e.enemyInterval>.2&&(e.enemyInterval-=.1)}),this.overlayBitmap=this.add.bitmapData(this.game.width,this.game.height),this.overlayBitmap.ctx.fillStyle="#000",this.overlayBitmap.ctx.fillRect(0,0,this.game.width,this.game.height),this.overlay=this.add.sprite(0,0,this.overlayBitmap),this.overlay.visible=!1,this.overlay.alpha=.75,this.music=this.game.add.audio("playMusic"),this.bulletHitSound=this.add.sound("bulletHit"),this.enemyExplosionSound=this.add.sound("enemyExplosion"),this.playerExplosionSound=this.add.sound("playerExplosion"),this.gameOverSound=this.add.sound("gameOver"),this.music.loopFull()}},{key:"update",value:function(){var e=this;this.enemyTime+=this.game.time.physicsElapsed,this.enemyShootTime+=this.game.time.physicsElapsed,this.playerShootTime+=this.game.time.physicsElapsed,this.enemyTime>this.enemyInterval&&(this.enemyTime=0,this.createEnemy({game:this.game,x:10*this.game.rnd.integerInRange(6,76),y:0,speed:{x:10*this.game.rnd.integerInRange(5,10)*(Math.random()>.5?1:-1),y:10*this.game.rnd.integerInRange(5,10)},health:9,bulletSpeed:10*this.game.rnd.integerInRange(10,20),asset:"alien"})),this.enemyShootTime>this.enemyShootInterval&&(this.enemyShootTime=0,this.enemies.forEachAlive(function(e){return e.shoot()}),this.player.alive||this.game.world.bringToTop(this.overlay)),this.playerShootTime>this.playerShootInterval&&(this.playerShootTime=0,this.player.alive&&this.player.shoot()),this.game.physics.arcade.overlap(this.player.bullets,this.enemies,this.hitEnemy,null,this),this.game.physics.arcade.overlap(this.player,this.enemies,this.crashEnemy,null,this),this.enemies.forEach(function(t){return e.game.physics.arcade.overlap(e.player,t.bullets,e.hitPlayer,null,e)}),this.farback.tilePosition.y+=3}},{key:"createEnemy",value:function(e){var t=this.enemies.getFirstExists(!1);t||(t=new c["default"](e),this.enemies.add(t)),t.reset(e)}},{key:"hitEffect",value:function(e,t){var n=this,o=this.game.add.tween(e),i=this.game.add.emitter(),a=0,r=100,s=10;o.to({tint:16711680},100),o.onComplete.add(function(){e.tint=16777215}),o.start(),i.x=e.x,i.y=e.y,i.gravity=0,i.makeParticles("particle"),e.health<=0&&(r=200,s=40,t=16711680),i.minParticleSpeed.setTo(-r,-r),i.maxParticleSpeed.setTo(r,r),i.start(!0,500,null,s),i.update=function(){a+=n.game.time.physicsElapsed,a>=.6&&(a=0,i.destroy())},i.forEach(function(e){return e.tint=t}),this.player.alive||this.game.world.bringToTop(this.overlay)}},{key:"hitEnemy",value:function(e,t){this.bulletHitSound.play("",0,.5),t.damage(e.health),this.hitEffect(t,e.tint),t.alive||(this.enemyExplosionSound.play("",0,.5),this.hud.updateScore(t.maxHealth)),e.kill()}},{key:"hitPlayer",value:function(e,t){this.bulletHitSound.play("",0,.5),e.damage(t.health),this.hud.updateHealth(),this.hitEffect(e,t.tint),e.alive||(this.playerExplosionSound.play(),this.gameOver()),t.kill()}},{key:"crashEnemy",value:function(e,t){t.damage(t.health),e.damage(t.health),this.hitEffect(e),this.hitEffect(t),t.alive||(this.enemyExplosionSound.play("",0,.5),this.hud.updateScore(t.maxHealth)),this.hud.updateHealth(),e.alive||(this.playerExplosionSound.play(),this.gameOver())}},{key:"gameOver",value:function(){var e=this;this.game.time.slowMotion=3,this.overlay.visible=!0,this.game.world.bringToTop(this.overlay);var t=this.game.time.create(this.game,!0);t.add(3e3,function(){e.music.stop(),e.gameOverSound.play(),e.game.state.start("Over")}),t.start()}}]),t}(Phaser.State);n["default"]=d},{"../prefabs/enemy":4,"../prefabs/hud":5,"../prefabs/player":6}],12:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),r(t,[{key:"preload",value:function(){this.loaderBg=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"loaderBg"),this.loaderBar=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"loaderBar"),this.loaderBg.anchor.setTo(.5),this.loaderBar.anchor.setTo(.5),this.load.setPreloadSprite(this.loaderBar),this.load.atlasJSONArray("smallfighter","img/spritesheet/smallfighter.fde38ee6.png","data/spritesheet/smallfighter.5deb38ce.json"),this.load.atlasJSONArray("alien","img/spritesheet/alien.0cf7c7a5.png","data/spritesheet/alien.f0627004.json"),this.load.atlasJSONArray("button","img/spritesheet/button.13a26c21.png","data/spritesheet/button.a7d1c73f.json"),this.load.image("farback","img/farback.23de8c74.jpg"),this.load.image("bullet","img/bullet.841b4ea4.png"),this.load.image("particle","img/particle.1d47c67e.gif"),this.load.image("healthbar","img/healthbar.d9567897.png"),this.load.image("hudBg","img/hud-bg.1f3168c4.png"),this.load.audio("playMusic",["audio/music/play.461c27fe.mp3"]),this.load.audio("menuMusic",["audio/music/menu.4340d25a.mp3"]),this.load.audio("menuOver",["audio/sound/menu-over.adf7e1ff.mp3"]),this.load.audio("menuOut",["audio/sound/menu-out.b4fb68f8.mp3"]),this.load.audio("menuDown",["audio/sound/menu-click.76947bdf.mp3"]),this.load.audio("bulletHit",["audio/sound/bullet-hit.b5d75795.mp3"]),this.load.audio("enemyShot",["audio/sound/enemy-shot.b33bb7cb.mp3"]),this.load.audio("enemyExplosion",["audio/sound/enemy-explosion.f648d3c1.mp3"]),this.load.audio("playerShot",["audio/sound/player-shot.bb42bb0f.mp3"]),this.load.audio("playerExplosion",["audio/sound/player-explosion.cdf713b1.mp3"]),this.load.audio("gameOver",["audio/sound/game-over.96e076dd.mp3"])}},{key:"create",value:function(){this.state.start("Menu")}}]),t}(Phaser.State);n["default"]=s},{}]},{},[2]);